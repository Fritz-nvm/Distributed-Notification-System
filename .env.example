# ============================================
# GENERAL CONFIGURATION
# ============================================
ENVIRONMENT=development
DEBUG=True
LOG_LEVEL=INFO

# ============================================
# DATABASE CONFIGURATION (PostgreSQL)
# ============================================
# User Service Database
USER_DB_HOST=postgres-user
USER_DB_PORT=5432
USER_DB_NAME=user_service_db
USER_DB_USER=postgres
USER_DB_PASSWORD=your_secure_password_123

# Template Service Database
TEMPLATE_DB_HOST=postgres-template
TEMPLATE_DB_PORT=5432
TEMPLATE_DB_NAME=template_service_db
TEMPLATE_DB_USER=postgres
TEMPLATE_DB_PASSWORD=your_secure_password_123

# Database Pool Settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# ============================================
# REDIS CONFIGURATION
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_MAX_CONNECTIONS=50
REDIS_DECODE_RESPONSES=True

# Cache TTL (seconds)
CACHE_TTL_SHORT=300
CACHE_TTL_MEDIUM=1800
CACHE_TTL_LONG=3600

# ============================================
# RABBITMQ CONFIGURATION
# ============================================
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_USER=guest
RABBITMQ_PASSWORD=guest
RABBITMQ_VHOST=/

# Queue Names
EMAIL_QUEUE=email.queue
PUSH_QUEUE=push.queue
FAILED_QUEUE=failed.queue
RETRY_QUEUE=retry.queue

# Exchange Configuration
NOTIFICATION_EXCHANGE=notifications.direct
DLX_EXCHANGE=notifications.dlx

# ============================================
# SERVICE PORTS (Internal: 8000, External: varies)
# ============================================
API_GATEWAY_PORT=8000
USER_SERVICE_PORT=8001
EMAIL_SERVICE_PORT=8002
PUSH_SERVICE_PORT=8003
TEMPLATE_SERVICE_PORT=8004

# Service URLs (for inter-service communication)
USER_SERVICE_URL=http://user-service:8000
TEMPLATE_SERVICE_URL=http://template-service:8000

# ============================================
# API GATEWAY CONFIGURATION
# ============================================
# JWT Settings
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Rate Limiting
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# CORS
CORS_ORIGINS=http://localhost:3000,http://localhost:8000
CORS_ALLOW_CREDENTIALS=True

# ============================================
# EMAIL SERVICE CONFIGURATION
# ============================================
# SMTP Configuration (Gmail example)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password
SMTP_FROM_EMAIL=noreply@yourapp.com
SMTP_FROM_NAME=YourApp Notifications

# SendGrid (Alternative)
SENDGRID_API_KEY=
SENDGRID_FROM_EMAIL=

# Mailgun (Alternative)
MAILGUN_API_KEY=
MAILGUN_DOMAIN=
MAILGUN_FROM_EMAIL=

# Email Settings
EMAIL_BATCH_SIZE=10
EMAIL_RETRY_MAX_ATTEMPTS=3
EMAIL_RETRY_DELAY=5

# ============================================
# PUSH SERVICE CONFIGURATION
# ============================================
# Firebase Cloud Messaging
FCM_PROJECT_ID=your-firebase-project-id
FCM_CREDENTIALS_PATH=/app/firebase-credentials.json

# OneSignal (Alternative)
ONESIGNAL_APP_ID=
ONESIGNAL_API_KEY=

# Web Push VAPID
VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=
VAPID_SUBJECT=mailto:admin@yourapp.com

# Push Settings
PUSH_BATCH_SIZE=500
PUSH_RETRY_MAX_ATTEMPTS=3

# ============================================
# CIRCUIT BREAKER CONFIGURATION
# ============================================
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT_SECONDS=60
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=30
CIRCUIT_BREAKER_EXPECTED_EXCEPTION=Exception

# ============================================
# RETRY CONFIGURATION
# ============================================
MAX_RETRY_ATTEMPTS=3
RETRY_INITIAL_DELAY_MS=1000
RETRY_MAX_DELAY_MS=60000
RETRY_MULTIPLIER=2
RETRY_JITTER=True

# ============================================
# MONITORING & LOGGING
# ============================================
# Logging
LOG_FORMAT=json
LOG_FILE_PATH=/app/logs
LOG_ROTATION_SIZE_MB=100
LOG_RETENTION_DAYS=30

# Metrics
PROMETHEUS_ENABLED=True
PROMETHEUS_PORT=9090

# Health Check
HEALTH_CHECK_INTERVAL=30

# ============================================
# SECURITY
# ============================================
# API Keys
API_KEY_HEADER=X-API-Key
INTERNAL_API_KEY=your-internal-api-key-change-this

# Encryption
ENCRYPTION_KEY=your-encryption-key-32-chars-min

# ============================================
# FEATURE FLAGS
# ============================================
ENABLE_EMAIL_NOTIFICATIONS=True
ENABLE_PUSH_NOTIFICATIONS=True
ENABLE_RATE_LIMITING=True
ENABLE_CIRCUIT_BREAKER=True
ENABLE_METRICS=True

# ============================================
# DEVELOPMENT ONLY
# ============================================
# Set to False in production
RELOAD=True
DEBUG_SQL=False